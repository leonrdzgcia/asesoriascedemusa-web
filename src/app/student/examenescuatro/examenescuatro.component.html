
  <!-- Header del examen con información -->
  <mat-card class="exam-header">
    <mat-card-content class="header-content">
      <div class="exam-info">
        <h2 class="exam-title">{{nombreExamen}}</h2>
        <span class="exam-id">ID: {{stringIidExamen}}</span>
      </div>
      <div class="timer-info">
        <mat-icon class="timer-icon">schedule</mat-icon>
        <div class="timer-display">
          <span class="timer-label">Tiempo:</span>
          <span class="timer-text">
            <span class="timer-minutes">{{minutesCad.length === 1 ? '0' + minutesCad : minutesCad}}</span>
            <span class="timer-separator">:</span>
            <span class="timer-seconds">{{seconds < 10 ? '0' + seconds : seconds}}</span>
          </span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Contenedor principal de la pregunta -->
  <mat-card class="question-card">
    <mat-card-content>
      <!-- Encabezado de la pregunta (si existe) -->
      <div class="question-header" *ngIf="this.srcEncabezado != 'NA'">
        <mat-card class="header-card">
          <mat-card-header>
            <mat-card-title>Contexto</mat-card-title>
          </mat-card-header>
          <mat-card-content class="scrollable-content">
            <p *ngFor="let linea of this.srcEncabezado.split('\n')" class="context-line">
              {{ linea }}
            </p>
          </mat-card-content>
        </mat-card>
      </div>

      <mat-divider *ngIf="this.srcEncabezado != 'NA'" class="section-divider"></mat-divider>

      <!-- Pregunta actual -->
      <div class="question-section">
        <h3 class="question-number">Pregunta {{banderaPreguntas + 1}}</h3>
        <p class="question-text">{{ preguntas[banderaPreguntas].pregunta }}</p>
      </div>

      <!-- Imagen de la pregunta (si existe) -->
      <div class="question-image" *ngIf="preguntas[banderaPreguntas].preguntaImagen != 'NA'">
        <img [src]="srcPreguntaImg" alt="Imagen de la pregunta">
      </div>

      <mat-divider class="section-divider"></mat-divider>

      <!-- Respuestas tipo texto -->
      <div class="answers-section" *ngIf="preguntas[banderaPreguntas].tipoRespuestas == '1'">
        <h4 class="answers-title">Selecciona tu respuesta:</h4>
        <mat-radio-group [(ngModel)]="respuestaSeleccionada" class="answers-group">
          <mat-radio-button
            [value]="preguntas[banderaPreguntas].respuesta_1"
            class="answer-option">
            {{ preguntas[banderaPreguntas].respuesta_1 }}
          </mat-radio-button>
          <mat-radio-button
            [value]="preguntas[banderaPreguntas].respuesta_2"
            class="answer-option">
            {{ preguntas[banderaPreguntas].respuesta_2 }}
          </mat-radio-button>
          <mat-radio-button
            [value]="preguntas[banderaPreguntas].respuesta_3"
            class="answer-option">
            {{ preguntas[banderaPreguntas].respuesta_3 }}
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <!-- Respuestas tipo imagen -->
      <div class="answers-section" *ngIf="preguntas[banderaPreguntas].tipoRespuestas == '2'">
        <h4 class="answers-title">Selecciona tu respuesta:</h4>
        <mat-radio-group [(ngModel)]="respuestaSeleccionada" class="answers-group-images">
          <div class="image-option">
            <mat-radio-button [value]="preguntas[banderaPreguntas].respuesta_1"></mat-radio-button>
            <img [src]="srcRes1" alt="Opción 1" class="answer-image">
          </div>
          <div class="image-option">
            <mat-radio-button [value]="preguntas[banderaPreguntas].respuesta_2"></mat-radio-button>
            <img [src]="srcRes2" alt="Opción 2" class="answer-image">
          </div>
          <div class="image-option">
            <mat-radio-button [value]="preguntas[banderaPreguntas].respuesta_3"></mat-radio-button>
            <img [src]="srcRes3" alt="Opción 3" class="answer-image">
          </div>
        </mat-radio-group>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Botones de navegación -->
  <div class="navigation-buttons">
    <button
      (click)="preguntaAnterior()"
      mat-raised-button
      color="accent"
      [disabled]="banderBack"
      class="nav-button">
      <mat-icon>arrow_back</mat-icon>
      Anterior
    </button>

    <button
      (click)="siguientePRegunta()"
      mat-raised-button
      color="primary"
      [disabled]="banderNext"
      class="nav-button">
      Siguiente
      <mat-icon>arrow_forward</mat-icon>
    </button>

    <button
      (click)="enviarUltimaPregunta()"
      mat-raised-button
      color="warn"
      [disabled]="banderSend"
      class="nav-button submit-button">
      <mat-icon>send</mat-icon>
      Enviar Examen
    </button>
  </div>

