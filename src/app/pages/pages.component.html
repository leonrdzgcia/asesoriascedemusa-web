<div class="dashboard-container">
  <!-- Toolbar superior -->
  <mat-toolbar class="main-toolbar">
    <button mat-icon-button *ngIf="sidenav.mode === 'over'" (click)="sidenav.toggle()">
      <mat-icon *ngIf="!sidenav.opened">menu</mat-icon>
      <mat-icon *ngIf="sidenav.opened">close</mat-icon>
    </button>
    <mat-icon class="toolbar-icon">dashboard</mat-icon>
    <span class="toolbar-title">Panel de Administracion</span>
    <span class="toolbar-spacer"></span>
    <span class="user-info">{{ nombreLogin }}</span>
  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container">
    <!-- Sidebar -->
    <mat-sidenav class="sidebar" #sidenav="matSidenav" mode="side" opened>
      <!-- Perfil de usuario -->
      <div class="user-profile">
        <img class="avatar" src="./assets/img/cedemusa.jpeg" alt="Logo">
        <h4 class="user-name">{{ nombreLogin }}</h4>
        <p class="user-id">{{ matriculaLogin }}</p>
      </div>

      <mat-divider class="sidebar-divider"></mat-divider>

      <!-- Menu Admin -->
      <div *ngIf="bandera==1" class="menu-section">
        <p class="menu-label">Administracion</p>

        <button mat-button class="menu-button" (click)="botonActualizar()">
          <mat-icon>refresh</mat-icon>
          <span>Actualizar</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/resultados']">
          <mat-icon>assessment</mat-icon>
          <span>Resultados</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/asignaciones']">
          <mat-icon>assignment</mat-icon>
          <span>Asig. Examenes</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/catalogovideos']">
          <mat-icon>video_library</mat-icon>
          <span>Asig. Videos</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/usuarios']">
          <mat-icon>people</mat-icon>
          <span>Usuarios</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/examenes']">
          <mat-icon>quiz</mat-icon>
          <span>Examenes</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/preguntas']">
          <mat-icon>help_outline</mat-icon>
          <span>Preguntas</span>
        </button>

        <button mat-button class="menu-button" [routerLink]="['student/archivos']">
          <mat-icon>folder</mat-icon>
          <span>Archivos</span>
        </button>
      </div>

      <mat-divider *ngIf="bandera==1" class="sidebar-divider"></mat-divider>

      <!-- Seccion Examenes Admin -->
      <div *ngIf="bandera==1" class="menu-section">
        <p class="menu-label">Examenes</p>

        <mat-form-field appearance="outline" class="sidebar-select">
          <mat-label>Seleccionar examen</mat-label>
          <mat-select [(value)]="examenSeleccionado">
            <mat-option *ngFor="let opcion of arrayExamenesInt" [value]="opcion">
              {{ opcion.idExamen }} - {{ opcion.nombreExamen }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="primary" class="action-button" (click)="presentarExamen()">
          <mat-icon>play_arrow</mat-icon>
          Presentar examen
        </button>
      </div>

      <mat-divider *ngIf="bandera==1" class="sidebar-divider"></mat-divider>

      <!-- Seccion Videos Admin -->
      <div *ngIf="bandera==1" class="menu-section">
        <p class="menu-label">Videos</p>

        <mat-form-field appearance="outline" class="sidebar-select">
          <mat-label>Seleccionar video</mat-label>
          <mat-select [(value)]="examenSeleccionado">
            <mat-option *ngFor="let option of optionsVideos" [value]="option.value">
              {{ option.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="accent" class="action-button" (click)="verVideo()">
          <mat-icon>play_circle</mat-icon>
          Ver video
        </button>
      </div>

      <!-- Seccion Estudiante -->
      <div *ngIf="bandera==2" class="menu-section">
        <p class="menu-label">Examenes</p>

        <mat-form-field appearance="outline" class="sidebar-select">
          <mat-label>Seleccionar examen</mat-label>
          <mat-select [(value)]="examenSeleccionado">
            <mat-option *ngFor="let opcion of arrayExamenesInt" [value]="opcion">
              {{ opcion.idExamen }} - {{ opcion.nombreExamen }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="primary" class="action-button" (click)="presentarExamen()">
          <mat-icon>play_arrow</mat-icon>
          Presentar examen
        </button>
      </div>

      <mat-divider *ngIf="bandera==2" class="sidebar-divider"></mat-divider>

      <div *ngIf="bandera==2" class="menu-section">
        <p class="menu-label">Videos</p>

        <mat-form-field appearance="outline" class="sidebar-select">
          <mat-label>Seleccionar video</mat-label>
          <mat-select [(value)]="examenSeleccionado">
            <mat-option *ngFor="let option of optionsVideos" [value]="option.value">
              {{ option.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="accent" class="action-button" (click)="verVideo()">
          <mat-icon>play_circle</mat-icon>
          Ver video
        </button>
      </div>

      <mat-divider class="sidebar-divider"></mat-divider>

      <!-- Boton Salir -->
      <button mat-button class="menu-button logout-button" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Cerrar sesion</span>
      </button>
    </mat-sidenav>

    <!-- Contenido principal -->
    <mat-sidenav-content class="main-content">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>